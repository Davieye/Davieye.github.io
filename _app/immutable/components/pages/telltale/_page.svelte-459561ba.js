import{S as C,i as L,s as $,k as v,l as y,m as b,h as m,n as p,b as h,D as I,t as E,d as Y,f as N,H as A,N as J,O as Q,P as U,g as W,B as z,Q as K,q as w,r as R,u as O,a as S,c as j,I as X,J as D,R as Z,e as T,T as x,L as ee}from"../../../chunks/index-fd610874.js";import{w as te}from"../../../chunks/index-1645db2a.js";var V;const le=(V=window.localStorage.getItem("story_id"))!=null?V:"1",q=te(le);q.subscribe(r=>{window.localStorage.setItem("story_id",r),console.log(r)});let ie=[{id:"1",message:"Rollin way to school.",img:"rollin way to school.jpg",choices:[{id:"2",text:"Begin"}]},{id:"2",message:"What will be your path?",img:"choice.jpeg",choices:[{id:"3",text:"Left"},{id:"4",text:"Right"}]},{id:"3",message:"Fel h\xE5ll xd",img:"choice.jpeg",choices:[{id:"5",text:"Other right"},{id:"4",text:"Right"}]},{id:"4",message:"Rollin hitta dit",img:"klassrum.png",choices:[{id:"1",text:"Reset!"}]},{id:"5",message:"Rollin d\xF6d :(",img:"p\xE5k\xF6rd.png",choices:[{id:"1",text:"Reset!"}]}];function se(r){const e=r-1;return e*e*e+1}function M(r,{delay:e=0,duration:i=400,easing:s=se,x:t=0,y:l=0,opacity:c=0}={}){const n=getComputedStyle(r),a=+n.opacity,f=n.transform==="none"?"":n.transform,g=a*(1-c);return{delay:e,duration:i,easing:s,css:(_,o)=>`
			transform: ${f} translate(${(1-_)*t}px, ${(1-_)*l}px);
			opacity: ${a-g*o}`}}function P(r,e,i){const s=r.slice();return s[4]=e[i],s}function oe(r){let e,i,s,t;return{c(){e=v("p"),i=w("STORY FOR ID "),s=w(r[0]),t=w(" MISSING")},l(l){e=y(l,"P",{});var c=b(e);i=R(c,"STORY FOR ID "),s=R(c,r[0]),t=R(c," MISSING"),c.forEach(m)},m(l,c){h(l,e,c),I(e,i),I(e,s),I(e,t)},p(l,c){c&1&&O(s,l[0])},d(l){l&&m(e)}}}function ae(r){let e,i,s,t=r[1].message+"",l,c,n,a=r[1].img&&B(r),f=r[1].html&&F(r),g=r[1].choices,_=[];for(let o=0;o<g.length;o+=1)_[o]=G(P(r,g,o));return{c(){a&&a.c(),e=S(),f&&f.c(),i=S(),s=v("p"),l=w(t),c=S(),n=v("div");for(let o=0;o<_.length;o+=1)_[o].c();this.h()},l(o){a&&a.l(o),e=j(o),f&&f.l(o),i=j(o),s=y(o,"P",{});var d=b(s);l=R(d,t),d.forEach(m),c=j(o),n=y(o,"DIV",{class:!0});var u=b(n);for(let k=0;k<_.length;k+=1)_[k].l(u);u.forEach(m),this.h()},h(){p(n,"class","row svelte-1qjy6uo")},m(o,d){a&&a.m(o,d),h(o,e,d),f&&f.m(o,d),h(o,i,d),h(o,s,d),I(s,l),h(o,c,d),h(o,n,d);for(let u=0;u<_.length;u+=1)_[u].m(n,null)},p(o,d){if(o[1].img?a?a.p(o,d):(a=B(o),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[1].html?f?f.p(o,d):(f=F(o),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),d&2&&t!==(t=o[1].message+"")&&O(l,t),d&6){g=o[1].choices;let u;for(u=0;u<g.length;u+=1){const k=P(o,g,u);_[u]?_[u].p(k,d):(_[u]=G(k),_[u].c(),_[u].m(n,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=g.length}},d(o){a&&a.d(o),o&&m(e),f&&f.d(o),o&&m(i),o&&m(s),o&&m(c),o&&m(n),X(_,o)}}}function B(r){let e,i,s;return{c(){e=v("img"),this.h()},l(t){e=y(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){D(e.src,i=r[1].img)||p(e,"src",i),p(e,"alt",s=r[1].message),p(e,"class","svelte-1qjy6uo")},m(t,l){h(t,e,l)},p(t,l){l&2&&!D(e.src,i=t[1].img)&&p(e,"src",i),l&2&&s!==(s=t[1].message)&&p(e,"alt",s)},d(t){t&&m(e)}}}function F(r){let e,i=r[1].html+"",s;return{c(){e=new Z(!1),s=T(),this.h()},l(t){e=x(t,!1),s=T(),this.h()},h(){e.a=s},m(t,l){e.m(i,t,l),h(t,s,l)},p(t,l){l&2&&i!==(i=t[1].html+"")&&e.p(i)},d(t){t&&m(s),t&&e.d()}}}function G(r){let e,i=r[4].text+"",s,t,l;function c(){return r[3](r[4])}return{c(){e=v("button"),s=w(i)},l(n){e=y(n,"BUTTON",{});var a=b(e);s=R(a,i),a.forEach(m)},m(n,a){h(n,e,a),I(e,s),t||(l=ee(e,"click",c),t=!0)},p(n,a){r=n,a&2&&i!==(i=r[4].text+"")&&O(s,i)},d(n){n&&m(e),t=!1,l()}}}function H(r){let e,i,s,t;function l(a,f){return a[1]?ae:oe}let c=l(r),n=c(r);return{c(){e=v("div"),n.c(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=b(e);n.l(f),f.forEach(m),this.h()},h(){p(e,"class","container svelte-1qjy6uo")},m(a,f){h(a,e,f),n.m(e,null),t=!0},p(a,f){c===(c=l(a))&&n?n.p(a,f):(n.d(1),n=c(a),n&&(n.c(),n.m(e,null)))},i(a){t||(a&&J(()=>{s&&s.end(1),i=Q(e,M,{x:800,duration:750}),i.start()}),t=!0)},o(a){i&&i.invalidate(),a&&(s=U(e,M,{x:-800,duration:750})),t=!1},d(a){a&&m(e),n.d(),a&&s&&s.end()}}}function re(r){let e,i,s=r[0],t=H(r);return{c(){e=v("main"),i=v("div"),t.c(),this.h()},l(l){e=y(l,"MAIN",{class:!0});var c=b(e);i=y(c,"DIV",{class:!0});var n=b(i);t.l(n),n.forEach(m),c.forEach(m),this.h()},h(){p(i,"class","grid svelte-1qjy6uo"),p(e,"class","svelte-1qjy6uo")},m(l,c){h(l,e,c),I(e,i),t.m(i,null)},p(l,[c]){c&1&&$(s,s=l[0])?(W(),E(t,1,1,z),Y(),t=H(l),t.c(),N(t,1),t.m(i,null)):t.p(l,c)},i(l){N(t)},o(l){E(t)},d(l){l&&m(e),t.d(l)}}}function ne(r,e,i){let s,t,l;A(r,q,n=>i(2,l=n));const c=n=>{K(q,l=n.id,l)};return r.$$.update=()=>{r.$$.dirty&4&&i(0,s=l),r.$$.dirty&1&&i(1,t=ie.find(n=>n.id==s))},[s,t,l,c]}class _e extends C{constructor(e){super(),L(this,e,ne,re,$,{})}}export{_e as default};
